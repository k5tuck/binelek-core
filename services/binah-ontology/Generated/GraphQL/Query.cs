// <auto-generated />
// Generated from SupplyChainOntology vv1.0.0

using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading;
using System.Threading.Tasks;
using HotChocolate;
using HotChocolate.Data;
using HotChocolate.Types;
using Acme.SupplyChain.Entities;
using Acme.SupplyChain.Repositories;

namespace Acme.SupplyChain.GraphQL
{
    /// <summary>
    /// GraphQL Query root type
    /// </summary>
    public class Query
    {
        /// <summary>Get a single Order by ID</summary>
        [UseFirstOrDefault]
        public async Task<Order?> GetOrderAsync(
            Guid id,
            [Service] IOrderRepository repository,
            CancellationToken cancellationToken)
        {
            return await repository.GetByIdAsync(id, cancellationToken);
        }

        /// <summary>Get all Orders with optional filtering</summary>
        [UseFiltering]
        [UseSorting]
        [UsePaging]
        public async Task<IEnumerable<Order>> GetOrdersAsync(
            [Service] IOrderRepository repository,
            CancellationToken cancellationToken)
        {
            return await repository.GetAllAsync(cancellationToken);
        }

        /// <summary>Get a single Customer by ID</summary>
        [UseFirstOrDefault]
        public async Task<Customer?> GetCustomerAsync(
            Guid id,
            [Service] ICustomerRepository repository,
            CancellationToken cancellationToken)
        {
            return await repository.GetByIdAsync(id, cancellationToken);
        }

        /// <summary>Get all Customers with optional filtering</summary>
        [UseFiltering]
        [UseSorting]
        [UsePaging]
        public async Task<IEnumerable<Customer>> GetCustomersAsync(
            [Service] ICustomerRepository repository,
            CancellationToken cancellationToken)
        {
            return await repository.GetAllAsync(cancellationToken);
        }

        /// <summary>Get a single Product by ID</summary>
        [UseFirstOrDefault]
        public async Task<Product?> GetProductAsync(
            Guid id,
            [Service] IProductRepository repository,
            CancellationToken cancellationToken)
        {
            return await repository.GetByIdAsync(id, cancellationToken);
        }

        /// <summary>Get all Products with optional filtering</summary>
        [UseFiltering]
        [UseSorting]
        [UsePaging]
        public async Task<IEnumerable<Product>> GetProductsAsync(
            [Service] IProductRepository repository,
            CancellationToken cancellationToken)
        {
            return await repository.GetAllAsync(cancellationToken);
        }

    }
}
