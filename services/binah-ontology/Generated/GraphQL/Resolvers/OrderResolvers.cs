// <auto-generated />
// Generated from SupplyChainOntology vv1.0.0

using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading;
using System.Threading.Tasks;
using HotChocolate;
using HotChocolate.Resolvers;
using HotChocolate.Types;
using Acme.SupplyChain.Entities;
using Acme.SupplyChain.Repositories;
using Acme.SupplyChain.GraphQL.DataLoaders;

namespace Acme.SupplyChain.GraphQL.Resolvers
{
    /// <summary>
    /// Resolvers for Order relationships and computed fields
    /// </summary>
    public class OrderResolvers
    {
        /// <summary>
        /// Resolves Customer for Order
        /// Each order belongs to one customer
        /// </summary>
        public async Task<IEnumerable<Customer>> GetCustomerAsync(
            [Parent] Order order,
            OrderCustomerDataLoader dataLoader,
            CancellationToken cancellationToken)
        {
            return await dataLoader.LoadAsync(order.OrderId, cancellationToken);
        }

        /// <summary>
        /// Resolves Product for Order
        /// Orders contain multiple products
        /// </summary>
        public async Task<IEnumerable<Product>> GetProductAsync(
            [Parent] Order order,
            OrderProductDataLoader dataLoader,
            CancellationToken cancellationToken)
        {
            return await dataLoader.LoadAsync(order.OrderId, cancellationToken);
        }

        /// <summary>
        /// Resolves relationships collection for Order
        /// </summary>
        public async Task<IEnumerable<string>> GetRelationshipsAsync(
            [Parent] Order order,
            OrderRelationshipDataLoader dataLoader,
            CancellationToken cancellationToken)
        {
            return await dataLoader.LoadAsync(order.OrderId.ToString(), cancellationToken);
        }
    }
}
