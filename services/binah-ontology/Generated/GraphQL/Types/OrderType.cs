// <auto-generated />
// Generated from SupplyChainOntology vv1.0.0

using HotChocolate;
using HotChocolate.Types;
using Acme.SupplyChain.Entities;
using Acme.SupplyChain.GraphQL.Resolvers;
using Acme.SupplyChain.GraphQL.DataLoaders;

namespace Acme.SupplyChain.GraphQL.Types
{
    /// <summary>
    /// A customer purchase order
    /// </summary>
    public class OrderType : ObjectType<Order>
    {
        protected override void Configure(IObjectTypeDescriptor<Order> descriptor)
        {
            descriptor.Description("A customer purchase order");

            descriptor.Field(f => f.OrderId)
                .Type<NonNullType<IdType>>()
                .Description("Unique order identifier");

            descriptor.Field(f => f.OrderNumber)
                .Type<NonNullType<StringType>>()
                .Description("Human-readable order number");

            descriptor.Field(f => f.CustomerId)
                .Type<NonNullType<IdType>>()
                .Description("Reference to customer");

            descriptor.Field(f => f.TotalAmount)
                .Type<NonNullType<DecimalType>>()
                .Description("Total order amount");

            descriptor.Field(f => f.Status)
                .Type<NonNullType<StringType>>()
                .Description("Order status");

            descriptor.Field(f => f.OrderDate)
                .Type<NonNullType<DateTimeType>>()
                .Description("When the order was placed");

            descriptor.Field("customers")
                .ResolveWith<OrderResolvers>(r => r.GetCustomerAsync(default!, default!, default!))
                .Description("Each order belongs to one customer")
                .Type<ListType<NonNullType<CustomerType>>>();

            descriptor.Field("products")
                .ResolveWith<OrderResolvers>(r => r.GetProductAsync(default!, default!, default!))
                .Description("Orders contain multiple products")
                .Type<ListType<NonNullType<ProductType>>>();

        }
    }
}
