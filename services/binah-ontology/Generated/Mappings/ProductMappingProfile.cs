// <auto-generated />
// Generated from SupplyChainOntology vv1.0.0

using AutoMapper;
using System;
using System.Collections.Generic;
using Acme.SupplyChain.DTOs;
using Acme.SupplyChain.Entities;
using Ontology.Regen.Generators.Mapper;

namespace Acme.SupplyChain.Generated.Mappings
{
    /// <summary>
    /// AutoMapper profile for Product entity mappings
    /// </summary>
    public class ProductMappingProfile : Profile
    {
        public ProductMappingProfile()
        {
            // DTO to Entity mappings
            CreateMap<ProductDto, Product>();

            CreateMap<CreateProductDto, Product>()
                .ForMember(dest => dest.ProductId, opt => opt.Ignore()); // Generated by system

            CreateMap<UpdateProductDto, Product>()
                .ForAllMembers(opts => opts.Condition((src, dest, srcMember) => srcMember != null));

            // Entity to DTO mappings
            CreateMap<Product, ProductDto>();

            // Entity to Neo4j Node mapping
            CreateMap<Product, Neo4jNode>()
                .ForMember(dest => dest.Labels, opt => opt.MapFrom(src => new[] { "Product" }))
                .ForMember(dest => dest.Properties, opt => opt.MapFrom(src => new Dictionary<string, object>
                {
                    ["ProductId"] = src.ProductId,
                    ["SKU"] = src.SKU,
                    ["Name"] = src.Name,
                    ["Description"] = src.Description,
                    ["UnitPrice"] = src.UnitPrice,
                    ["StockQuantity"] = src.StockQuantity
                }));
        }
    }
}
